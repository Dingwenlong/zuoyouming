# 座位预约系统 (ZuoYouMing) 用户使用手册

## 1. 系统概述

**ZuoYouMing** 是一款智能化的图书馆/自习室座位预约管理系统，旨在解决公共资源分配不均、占座严重等问题，提高座位利用率。系统通过可视化的选座界面、严格的签到机制以及多角色的权限管理，实现了座位资源的公平、高效分配。

### 核心功能
- **在线选座**：支持地图、列表、网格三种视图模式，实时查看座位状态。
- **预约签到**：配合现场扫码签到，防止无效预约。
- **违规管理**：自动记录违约行为（如未签到），建立黑名单机制。
- **数据统计**：可视化展示座位使用率、时段热度等数据。
- **用户管理**：全生命周期的用户账号与权限管理。

### 适用场景
- 高校图书馆
- 付费自习室
- 企业共享工位管理

---

## 2. 角色定义与权限矩阵

系统包含三种主要角色，各角色的权限范围如下表所示：

| 功能模块 | 功能点 | 学生 (Student) | 图书管理员 (Librarian) | 系统管理员 (Admin) |
| :--- | :--- | :---: | :---: | :---: |
| **系统首页** | 查看公告/概览 | ✅ | ✅ | ✅ |
| **座位预约** | 查看座位状态 | ✅ | ✅ | ✅ |
| | 预约座位 | ✅ | ✅ | ✅ |
| | 强制释放/设为故障 | ❌ | ✅ | ✅ |
| **座位签到** | 扫码签到 | ✅ | ✅ | ✅ |
| **个人中心** | 个人信息/修改密码 | ✅ | ✅ | ✅ |
| | 查看借阅记录 | ✅ | ✅ | ✅ |
| **数据统计** | 查看统计报表 | ❌ | ✅ | ✅ |
| **系统管理** | 用户管理 (增删改查) | ❌ | ❌ | ✅ |
| | 系统日志查看 | ❌ | ❌ | ✅ |

---

## 3. 角色职能详解

### 3.1 普通用户 (Student)
**核心职责**：遵守场馆规则，按需预约和使用座位。
- **日常操作**：登录系统 -> 查询空闲座位 -> 提交预约 -> 现场签到 -> 离座签退。
- **关键规则**：预约成功后需在 15 分钟内完成签到，否则记为违规。

### 3.2 图书管理员 (Librarian)
**核心职责**：维护场馆秩序，处理座位异常情况。
- **现场管理**：巡查场馆，对于未到场但占用的座位进行“强制释放”。
- **设施维护**：发现损坏的桌椅，在系统中将其标记为“维护中”，避免用户误选。
- **数据监控**：通过统计看板了解今日入座率，辅助运营决策。

### 3.3 系统管理员 (Admin)
**核心职责**：系统整体运维，用户与权限管理。
- **用户运维**：批量导入新生账号，封禁违规严重的账号，重置用户信用分。
- **系统审计**：定期查看系统日志，排查异常访问或操作。
- **参数配置**：配置全局规则（如开放时间、黑名单阈值等）。

---

## 4. 操作指南

### 4.1 登录系统
1. 访问系统首页，系统自动跳转至登录页。
2. 输入用户名和密码（默认学生账号通常为学号），或使用微信扫描二维码登录。
3. 点击“登录”按钮，成功后进入仪表盘。

### 4.2 座位预约 (所有角色)
1. 点击左侧菜单栏的 **“座位预约”**。
2. **筛选座位**：
   - 使用右上角的搜索框输入座位号。
   - 切换视图模式：支持 **平面图** (直观位置)、**列表** (详细信息)、**卡片** (大图预览)。
3. **提交预约**：
   - 点击状态为 <span style="color:green">绿色 (空闲)</span> 的座位。
   - 在弹窗中选择 **预约时段** (上午/下午/晚间)。
   - 确认无误后点击“确定预约”。
4. **系统提示**：预约成功后，系统会显示倒计时提示。

### 4.3 座位管理 (管理员/图书管理员)
在“座位预约”页面，管理员拥有额外权限：
- **强制释放**：点击状态为 <span style="color:red">红色 (占用)</span> 的座位，弹窗底部会出现“强制释放”红色按钮，点击即可取消当前用户的预约。
- **设为故障**：点击任意座位，选择“设为故障”，该座位状态变为 <span style="color:orange">黄色 (维护中)</span>，普通用户将无法预约。

### 4.4 用户管理 (仅管理员)
1. 点击 **“系统管理” -> “用户管理”**。
2. **新增用户**：点击右上角“新增用户”，填写用户名、姓名、角色等信息。
3. **编辑用户**：点击用户列表右侧的“编辑”，可修改用户信息或重置信用分。
4. **封禁/解封**：对于严重违规用户，点击“封禁”按钮，该用户将无法登录系统。

---

## 5. 安全与合规说明

### 5.1 访问控制
- **认证机制**：系统采用 JWT (JSON Web Token) 标准认证，登录失效后自动跳转。
- **最小权限原则**：系统严格按照角色分配权限（RBAC模型），普通用户无法访问管理接口，前端路由与后端接口双重校验。

### 5.2 数据安全
- **敏感信息**：用户密码在传输和存储过程中均经过加密处理。
- **操作审计**：关键操作（如删除用户、强制释放座位）均有日志记录，可追溯操作人与操作时间。

---

## 6. 常见问题与故障排除 (FAQ)

**Q1: 为什么我无法登录系统？**
- A: 请检查用户名密码是否正确。如果是首次登录，请联系管理员确认账号是否已开通。如果提示“账号被封禁”，请联系管理员查询原因。

**Q2: 预约后忘记签到怎么办？**
- A: 系统规定预约后 15 分钟内必须签到。如果超时未签到，系统会自动释放座位并记录一次违规。累计 3 次违规将被限制预约。

**Q3: 看到座位是空的，但系统显示“占用”？**
- A: 可能是该用户暂时离开（保留中）或预约了但尚未到场。如果您是管理员，确认无人后可使用“强制释放”功能。

**Q4: 页面显示 403 Forbidden 是什么意思？**
- A: 表示您当前的账号角色没有权限访问该页面。例如学生尝试访问“用户管理”页面。

**技术支持联系方式**：
- 邮箱：support@zuoyouming.com
- 内线电话：800-8888
